{"version":3,"sources":["components/Filter.js","components/NewContact.js","components/List.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["Filter","persons","searchWord","handleSearchWordChange","personsToShow","filter","person","name","toUpperCase","includes","value","onChange","map","i","key","number","NewContact","newName","newNumber","handleNumberChange","handleNameChange","addNewPerson","type","onClick","List","deletePerson","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","notification","className","App","useState","setNewName","setNewNumber","setNewSearchWord","setPersons","setNotification","makeNotification","message","setTimeout","useEffect","personService","console","log","event","target","preventDefault","newPerson","some","window","confirm","dataBasePerson","find","p","changedPerson","concat","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.685b2331.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ persons, searchWord , handleSearchWordChange }) => {\n    const personsToShow = persons.filter(person => person.name.toUpperCase().includes(searchWord.toUpperCase()))\n    \n    return (\n        <div>\n            <div>Filter: <input value={searchWord} onChange={handleSearchWordChange} /> </div>\n            <ul>\n                {personsToShow.map((person, i) => <div key={person.name}> {person.name} {person.number}</div>)}\n            </ul>\n        </div>\n    )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst NewContact = ({newName , newNumber, handleNumberChange, handleNameChange, addNewPerson }) => {\n    return (\n        <div>\n            <form>\n                <h3>Add new contact</h3>\n                <div>name: <input value={newName} onChange={handleNameChange} /> </div>\n                <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n                <div> <button type=\"submit\" onClick={addNewPerson}>add</button> </div>\n            </form>\n        </div>\n    )\n}\n\n\nexport default NewContact","import React from 'react'\n\nconst List = ({ persons, deletePerson }) => {\n    return (\n        \n        <div>\n            <h3>Numbers</h3>\n            {persons.map(person => <div key={person.name}>{person.name} {person.number}    \n            <button name={person.name} onClick={() => deletePerson(person.id)}>poista</button>\n            \n            </div>)}\n            \n        </div>\n    )\n}\n\nexport default List","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://quiet-crag-45664.herokuapp.com/api/persons'\nconst baseUrl = \"/api/persons\"\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n  }\n  \n  export default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ notification }) => {\n    if (notification === null) {\n        return null\n    }\n\n    return (\n        <div className='green'>\n            {notification}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './Filter'\nimport NewContact from './NewContact'\nimport List from './List'\nimport personService from '../services/persons'\nimport Notification from './Notification.js';\n\n\n\nconst App = () => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchWord, setNewSearchWord] = useState('')\n  const [persons, setPersons] = useState([])\n  const [notification, setNotification] = useState(null);\n\n  const makeNotification = (message) => {\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const hook = () => {\n    personService.getAll().then(persons => {\n      setPersons(persons)\n    })\n  }\n\n  useEffect(hook, [])\n\n  // useEffect(() => {\n  //   console.log('effect')\n  //   axios\n  //   // http://localhost:3001/api/persons\n  //   // .get('http://localhost:3001/persons')\n  //     .get('http://localhost:3001/api/persons')\n  //     .then(response => {\n  //       console.log('promise fulfilled')\n  //       setPersons(response.data)\n  //     })\n  // }, [])\n  // console.log('render', persons.length, 'persons')\n\n  const handleSearchWordChange = (event) => {\n    console.log('new searchWord input is:', event.target.value)\n    setNewSearchWord(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    event.preventDefault()\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    event.preventDefault()\n    setNewNumber(event.target.value)\n  }\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newPerson.name} is already added to phonebook, \n        do you want to replace phone number with a new one?`)) {\n\n        const dataBasePerson = persons.find(p => p.name === newName)\n        personService\n          .update(dataBasePerson.id, newPerson)\n          .then(changedPerson => {\n            setPersons(persons.map(person => person.id !== dataBasePerson.id ? person : changedPerson))\n            setNewName('')\n            setNewNumber('')\n            makeNotification(`Phone number of ${changedPerson.name} was updated`)\n          })\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewName('')\n          setNewNumber('')\n          makeNotification(`${newPerson.name} was now added`)\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    const p = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${p.name}?`)) {\n      personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          makeNotification(`${p.name} is now deleted`)\n\n        }).catch(() => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  console.log('newName value is: ', newName)\n  console.log('newNumber value is: ', newNumber)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter persons={persons} searchWord={searchWord} handleSearchWordChange={handleSearchWordChange} />\n      <br />\n\n      <NewContact newName={newName} newNumber={newNumber} handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} addNewPerson={addNewPerson} />\n      <br />\n      <List persons={persons} deletePerson={deletePerson} />\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render( <App />, document.getElementById('root') )"],"sourceRoot":""}